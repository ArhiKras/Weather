## Weather CLI

Простое консольное приложение для получения погоды из OpenWeather по городу или координатам.

### Структура проекта

Weather/

├── `weather_app.py`      — точка входа в приложение  
├── `api_client.py`       — модуль для HTTP-запросов к OpenWeather (геокодинг и погода)  
├── `storage.py`          — модуль для управления кэшем и файловым I/O (`weather_cache.json`)  
├── `cli.py`              — модуль интерфейса командной строки (меню, ввод пользователя, вывод результата)  
├── `weather_cache.json`  — кэшированные данные о погоде  
├── `requirements.txt`    — зависимости проекта  
├── `README.md`           — документация  
└── `.gitignore`          — игнорируемые файлы Git  

### Интерфейс (CLI)

После запуска `weather_app.py` в терминале отображается меню:

- **1 — по городу**: запрос погоды по названию города.  
  - Если есть несколько одноимённых городов (до 3 вариантов), приложение выведет погоду для каждого варианта с указанием области/региона (`state` или `country`).  
  - Формат строки:  
    `Погода в городе - <город> (<область>): <температура>°C, <описание>`
- **2 — по координатам**: запрос погоды по широте и долготе (один результат).
- **0 — выход**: завершение работы программы.

При временных сетевых ошибках или коде ответа `429` запрос автоматически повторяется до 3 раз с паузами 1s, 2s, 4s.  
Если получить свежие данные не удалось, но есть актуальный кэш (младше 3 часов), приложение предложит использовать кэш:

- Вопрос: `Использовать данные из кэша (меньше 3 часов)? (y/n):`
- При ответе `y` выводятся данные из `weather_cache.json`.

### Инструкция по использованию

1. **Установка зависимостей**
   ```bash
   pip install -r requirements.txt
   ```
2. **Настройка API ключа**
   - Создайте файл `.env` в корне проекта.
   - Добавьте строку:
     ```text
     API_KEY=ваш_ключ
     ```
3. **Запуск приложения**
   ```bash
   python weather_app.py
   ```
4. **Получение погоды по городу**
   - В меню выберите `1`.
   - Введите, например: `Москва`.
   - При наличии нескольких совпадений вы увидите до 3 строк с разными регионами, например:
     - `Погода в городе - Moscow (Moscow): 3°C, overcast clouds`
     - `Погода в городе - Moscow (Idaho): -1°C, clear sky`
5. **Получение погоды по координатам**
   - В меню выберите `2`.
   - Введите широту и долготу, например:
     - Широта: `55.7558`
     - Долгота: `37.6173`
   - Приложение выведет одну строку с погодой для точки.
6. **Использование кэша**
   - При сетевых проблемах (после нескольких попыток) программа спросит, использовать ли кэш.
   - При согласии (`y`) данные берутся из `weather_cache.json`, если они моложе 3 часов.
